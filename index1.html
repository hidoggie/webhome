<!DOCTYPE html>
<html>
  <title>Phoenix</title>
  <meta name="viewport" content="width=device-width">
  <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
  <script src="https://raw.githack.com/jeromeetienne/AR.js/2.1.4/aframe/build/aframe-ar.js"></script>
  <script src="./aframe-particle-system-component.min.js"></script>

  <script>
  AFRAME.registerComponent('audiohandler', {
    init: function() {
      let playing = true;
      let audio = document.querySelector("#pnx");
      this.el.addEventListener('click', () => {
        if (!playing) {
          audio.play();
        } else {
          audio.pause();
          audio.currentTime = 0;
        }
        playing = !playing;
      });
    }
  })

</script>
<body style='margin : 0px; overflow: hidden;'>
        <a-scene vr-mode-ui="enabled: false;" embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;">
        
    <a-assets>
      <audio id="pnx" crossorigin="anonymous" src="./scene.mp3" autoplay="true"></audio>
    </a-assets>
    <a-entity position="0 0 0" particle-system="preset:dust; texture: ./fire-particle.png;accelerationValue:0,-5,0;color:#FFE400;size:4.25;particleCount:1000;direction:-1;rotationAxis:z;rotation: -90 0 0"></a-entity>

       <a-entity scale=".1 .1 .1"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_emissive.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_emissive.png" position="0 0 0"></a-entity>
      <a-entity id="scene" scale="0.005 0.005 0.005" position="-0.8 -0.9 -7" sound="on: click; src: ./scene.mp3;" autoplay: false;" gltf-model="./img/scene.gltf";" animation-mixer></a-entity>
      <a-entity position="0 0 0" animation="property: position; to: 1 -16 -10; dur: 2000; easing: linear; loop: true">

     <a-entity scale=".1 .1 .1"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_emissive.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_emissive.png" position="0 0 0"></a-entity>
      <a-entity id="scene" scale="0.005 0.005 0.005" position="-0 -1 -9" gltf-model="./img/scene.gltf";" animation-mixer></a-entity>
      <a-entity rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">

       <a-entity scale=".1 .1 .1"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_emissive.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_emissive.png" position="0 0 0"></a-entity>
      <a-entity id="scene" scale="0.005 0.005 0.005" position="-0.8 -0.9 -7" sound="on: click; src: ./scene.mp3;" autoplay: false;" gltf-model="./img/scene.gltf";" animation-mixer></a-entity>
      <a-entity rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">

     <a-sphere position="1 0.95 -4" 
      radius="0.715"
      animation="
      property: rotation;
      from:0 0 0;
      to:0 360 0;
      loop:-1;
      easing:linear;"="1.25" src="https://cdn.glitch.com/8efcbc5c-a2bc-4c05-b3a0-fb0178a31b94%2F8k_sun.jpg?v=158250187988" shadow animation ="
      delay="100" 
      dur="9600"
      audiohandler></a-sphere>
     <a-cone position="0 -3 0" rotation="0 0 0" radius-bottom="15" radius-top="5" color="white" easing:linear;"="30" src="./volcano2.jpg" opeacity="0.9"></a-cone>
     <a-ocean position="0 -4 0" color="#9C0E04" width="100" depth="100" density="15" speed="2"></a-ocean>


    <a-light type="ambient" intensity="1.3"></a-light>
    <a-light type="directional" intensity="3" position="1.5 4.5 1.6"></a-light>
    <a-entity movement-controls="fly: true">
    <a-entity camera position="0 1.6 0" look-controls></a-entity>
    </a-entity>
  </a-scene>
  <!--script>
    AFRAME.registerComponent('soundhandler', {
    tick: function () {
           var entity = document.querySelector('[sound]');
         if (document.querySelector('a-marker').gltf3D.visible == true) {
            entity.components.sound.playSound();
        } else {
            entity.components.sound.pauseSound();
        }

     }
});
</script-->
</body>
</html>