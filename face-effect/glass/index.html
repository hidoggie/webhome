<!DOCTYPE html>
<html lang="ko">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>face-effect-common</title>

  <script src="./../../xr_st/8frame-1.5.0.min.js"></script>
  <script src="./../../xr_st/xrextras.js"></script>
  <script src="./../../xr_st/landing-page.js"></script>  
  
  <script async src="./../../xr_st/xr.js" data-preload-chunks="face"></script>

</head>

<body>

<a-scene
  landing-page
  xrextras-loading
  xrextras-runtime-error
  xrextras-pause-on-hidden
  renderer="maxCanvasWidth: 960; maxCanvasHeight: 960"
  xrface="mirroredDisplay: true;  maxDetections:3; meshGeometry: eyes, face, mouth; cameraDirection: front; allowedDevices: any;">
  <a-assets>
    <a-asset-item id="head-occluder" src="./../assets/default/head-occluder.glb"></a-asset-item>
    <a-asset-item id="glasses" src="./../assets/default/stereo-glasses.glb"></a-asset-item>
  </a-assets>

  <xrextras-resource id="tat-t" src="./../assets/common/alpha/8-tat.png"></xrextras-resource>
  <xrextras-resource id="alpha" src="./../assets/common/alpha/soft-eyes-mouth.png"> </xrextras-resource>
  <xrextras-basic-material
    id="tattoo"
    tex="#tat-t"
    alpha="#alpha"
    opacity="0.9"></xrextras-basic-material>

  <xrextras-capture-button></xrextras-capture-button>
  <xrextras-capture-preview></xrextras-capture-preview>

  <a-camera
    look-controls="enabled: false"
    wasd-controls="enabled: false"
    position="0 1.6 0"></a-camera>

  <xrextras-faceanchor face-id="1">
    <a-entity gltf-model="#head-occluder" position="0 0 0.02" xrextras-hider-material></a-entity>

    <xrextras-face-mesh material-resource="#tattoo"></xrextras-face-mesh>

    <xrextras-face-attachment point="noseBridge">
      <a-entity gltf-model="#glasses" scale="1.1 1.1 1.1" position="0 0.05 0">
        <a-plane
          position="0.25 -0.01 0"
          height="0.25"
          width="0.4"
          side="back"
          depth-write="false"
          color="#7611B6"
          opacity="0.5"
          roughness="0.25"></a-plane>
        <a-plane
          position="-0.25 -0.01 0"
          height="0.25"
          width="0.4"
          side="back"
          depth-write="false"
          color="#FFC828"
          opacity="0.5"
          roughness="0.25"></a-plane>
      </a-entity>
    </xrextras-face-attachment>
  </xrextras-faceanchor>

  <xrextras-faceanchor face-id="2">
    <a-entity gltf-model="#head-occluder" position="0 0 0.02" xrextras-hider-material></a-entity>

    <xrextras-face-mesh material-resource="#tattoo"></xrextras-face-mesh>

    <xrextras-face-attachment point="noseBridge">
      <a-entity gltf-model="#glasses" scale="1.1 1.1 1.1" position="0 0.05 0">
        <a-plane
          position="0.25 -0.01 0"
          height="0.25"
          width="0.4"
          side="back"
          depth-write="false"
          color="#7611B6"
          opacity="0.5"
          roughness="0.25"></a-plane>
        <a-plane
          position="-0.25 -0.01 0"
          height="0.25"
          width="0.4"
          side="back"
          depth-write="false"
          color="#FFC828"
          opacity="0.5"
          roughness="0.25"></a-plane>
      </a-entity>
    </xrextras-face-attachment>
  </xrextras-faceanchor>

  <xrextras-faceanchor face-id="3">
    <a-entity gltf-model="#head-occluder" position="0 0 0.02" xrextras-hider-material></a-entity>

    <xrextras-face-mesh material-resource="#tattoo"></xrextras-face-mesh>

    <xrextras-face-attachment point="noseBridge">
      <a-entity gltf-model="#glasses" scale="1.1 1.1 1.1" position="0 0.05 0">
        <a-plane
          position="0.25 -0.01 0"
          height="0.25"
          width="0.4"
          side="back"
          depth-write="false"
          color="#7611B6"
          opacity="0.5"
          roughness="0.25"></a-plane>
        <a-plane
          position="-0.25 -0.01 0"
          height="0.25"
          width="0.4"
          side="back"
          depth-write="false"
          color="#FFC828"
          opacity="0.5"
          roughness="0.25"></a-plane>
      </a-entity>
    </xrextras-face-attachment>
  </xrextras-faceanchor>

  <a-light type="directional" target="#face" position="0 1.8 3" intensity="0.8"></a-light>
  <a-light type="ambient" intensity="0.8"></a-light>
</a-scene>
</body>
</html>






