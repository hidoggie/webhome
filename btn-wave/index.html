<!DOCTYPE html>
<html lang="ko">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>catch trigger</title>

  <script src="./../xr_st/8frame-1.4.1.min.js"></script>
  <script src="./../xr_st/xrextras.js"></script>
  <script src="./../xr_st/landing-page.js"></script>  

  <script src="./howler.min.js"></script>
  
  <script async src="./../xr_st/xr.js" data-preload-chunks="slam"></script>
  <script type="module" src="./app.js" defer></script>
  
</head>

<body>

<a-scene
  tap-play-sound
  landing-page
  xrextras-loading
  xrextras-runtime-error
  renderer="colorManagement:true"
  xrweb>

  <!-- We can define assets here to be loaded when A-Frame initializes -->
  <a-assets>
    <a-asset-item id="btn-waveform" src="assets/models/btn-waveform.glb"></a-asset-item>
    <a-asset-item id="btn-plate" src="assets/models/btn-plate.glb"></a-asset-item>
  </a-assets>

  <!-- The raycaster will emit mouse events on scene objects specified with the cantap class -->
  <a-camera
    id="camera"
    position="0 8 0"
    raycaster="objects: .cantap"
    cursor="
      fuse: false;
      rayOrigin: mouse;">
  </a-camera>

  <a-entity
    light="
      type: directional;
      intensity: 0.8;
      castShadow: true;
      shadowMapHeight:2048;
      shadowMapWidth:2048;
      shadowCameraTop: 20;
      shadowCameraBottom: -20;
      shadowCameraRight: 20;
      shadowCameraLeft: -20;
      target: #btn-obj"
    xrextras-attach="target: btn-obj; offset: 8 15 8"
    position="1 4.3 2.5"
    shadow>
  </a-entity>

  <a-light type="ambient" intensity="0.5"></a-light>

  <!-- tap the button to make a sound -->
  <a-entity gltf-model="#btn-plate" cubemap-realtime position="0 0 -5" scale="3 3 3" shadow="receive: false">
    <a-entity id="btn-obj" gltf-model="#btn-waveform" class="cantap"></a-entity>
  </a-entity>

  <a-box
    id="ground"
    scale="1000 2 1000"
    position="0 -1 0"
    material="shader: shadow; transparent: true; opacity: 0.4"
    shadow>
  </a-box>
</a-scene>
</body>
</html>
